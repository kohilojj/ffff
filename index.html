<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>HSL Mobiililippu</title>
    <style>
        :root { --hsl-blue: #007ac9; --hsl-green: #64be1e; }
        body { margin: 0; font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background: #fff; overflow-x: hidden; user-select: none; }
        
        /* Yl√§palkki */
        .header { background: var(--hsl-blue); height: 56px; display: flex; align-items: center; padding: 0 16px; color: white; font-weight: bold; font-size: 18px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }

        .ticket-content { padding: 20px; text-align: center; position: relative; }

        /* Sykkiv√§ vy√∂hyke */
        .zone {
            width: 135px; height: 135px; background: var(--hsl-green);
            border-radius: 50%; margin: 15px auto;
            display: flex; align-items: center; justify-content: center;
            color: white; font-size: 55px; font-weight: 800;
            box-shadow: 0 0 0 0px rgba(100, 190, 30, 0.4);
            animation: pulse 2.5s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0px rgba(100, 190, 30, 0.4); }
            70% { box-shadow: 0 0 0 15px rgba(100, 190, 30, 0); }
            100% { box-shadow: 0 0 0 0px rgba(100, 190, 30, 0); }
        }

        .status { color: var(--hsl-green); font-weight: bold; font-size: 17px; margin-bottom: 5px; }
        .time-left { font-size: 50px; font-weight: 800; color: #333; margin: 10px 0; font-family: monospace; }
        
        .qr-box { width: 190px; height: 190px; margin: 15px auto; padding: 10px; border: 1px solid #eee; border-radius: 12px; }

        /* K√ÑYTT√ñEHDOT (Vastuuvapauslauseke) */
        .tos { margin-top: 30px; padding: 15px; border-top: 1px solid #eee; font-size: 10px; color: #999; text-align: left; background: #fafafa; }
        .tos b { color: #666; }

        /* TROLLI-H√ÑLYTYS */
        #troll-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #e60000; color: white; display: none;
            flex-direction: column; align-items: center; justify-content: center;
            z-index: 10000; text-align: center;
        }
    </style>
</head>
<body>

<div class="header">Kertalippu</div>

<div class="ticket-content">
    <div class="status">‚óè VOIMASSA</div>
    <div class="zone">AB</div>
    <div class="time-left" id="timer">01:19:59</div>
    
    <div class="qr-box">
        <img src="https://api.qrserver.com/v1/create-qr-code/?size=170x170&data=VALID_TICKET_ID_8832" width="170">
    </div>

    <div style="font-size: 14px; color: #444; margin-bottom: 10px;">
        Kertalippu, Aikuinen<br>
        <span id="date-now" style="font-weight: bold;"></span>
    </div>

    <div class="tos">
        <b>K√§ytt√∂ehdot:</b> T√§m√§ lippu on tarkoitettu ainoastaan digitaaliseen testaukseen ja viihteelliseen k√§ytt√∂√∂n. 
        Palvelun tarjoaja <b>ei vastaa mill√§√§n tavalla</b> suorista tai ep√§suorista vahingoista, tarkastusmaksuista, 
        oikeudellisista seuraamuksista tai matkustusoikeuden puuttumisesta. K√§ytt√§m√§ll√§ t√§t√§ sivua hyv√§ksyt, 
        ett√§ kaikki vastuu on yksinomaan k√§ytt√§j√§ll√§.
    </div>
</div>

<div id="troll-screen">
    <div style="font-size: 80px;">üö®</div>
    <h1 style="font-size: 45px; margin: 0; font-family: Arial Black;">FEIKKI!</h1>
    <h2 style="background: white; color: red; padding: 5px 20px; border-radius: 5px;">V√Ñ√ÑRENN√ñS</h2>
    <p style="font-weight: bold; margin-top: 20px; padding: 0 20px;">KULJETTAJA: T√ÑM√Ñ ON LAITON KOPIO. PUUTU ASIAAN.</p>
</div>

<script>
    // Asetetaan nykyinen aika
    const now = new Date();
    document.getElementById('date-now').innerText = now.getDate() + "." + (now.getMonth()+1) + "." + now.getFullYear() + " klo " + now.getHours() + ":" + (now.getMinutes()<10?'0':'') + now.getMinutes();

    // Sekuntikello
    let time = 4800;
    setInterval(() => {
        time--;
        let m = Math.floor(time / 60);
        let s = time % 60;
        document.getElementById('timer').innerText = (m < 10 ? '0' : '') + m + ":" + (s < 10 ? '0' : '') + s;
    }, 1000);

    // Itsetuho-vilkku
    const troll = document.getElementById('troll-screen');
    setInterval(() => {
        troll.style.display = 'flex';
        if (navigator.vibrate) navigator.vibrate([400, 100, 400]);
        
        setTimeout(() => {
            troll.style.display = 'none';
        }, 800);
    }, 2200); // Vilkkuu n. 2 sekunnin v√§lein
</script>

</body>
</html>
