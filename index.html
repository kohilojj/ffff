<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HSL</title>
    <style>
        body { margin: 0; font-family: 'Segoe UI', Roboto, sans-serif; background: #fff; overflow-x: hidden; user-select: none; }
        
        /* Sininen yl√§palkki */
        .header { background: #007ac9; height: 56px; display: flex; align-items: center; padding: 0 16px; color: white; font-weight: 600; font-size: 19px; }

        .ticket-body { padding: 0; text-align: center; }

        /* Vy√∂hykeympyr√§ sykkeell√§ */
        .zone-wrap {
            width: 135px; height: 135px; background: #64be1e; border-radius: 50%; 
            margin: 25px auto 10px; display: flex; align-items: center; justify-content: center;
            color: white; font-size: 56px; font-weight: 800;
            box-shadow: 0 0 0 0px rgba(100, 190, 30, 0.4);
            animation: pulse-green 2.5s infinite;
        }

        @keyframes pulse-green {
            0% { box-shadow: 0 0 0 0px rgba(100, 190, 30, 0.3); }
            70% { box-shadow: 0 0 0 15px rgba(100, 190, 30, 0); }
            100% { box-shadow: 0 0 0 0px rgba(100, 190, 30, 0); }
        }

        .valid-label { color: #64be1e; font-weight: bold; font-size: 17px; margin-top: 5px; }
        .countdown { font-size: 50px; font-weight: 800; color: #333; margin: 5px 0; letter-spacing: -1px; }

        /* QR-alue aallolla */
        .qr-card {
            background: #f8fbfd; margin: 15px 18px; padding: 25px; border-radius: 14px;
            border: 1px solid #e5edf3; position: relative; overflow: hidden;
        }
        
        .qr-image { width: 175px; height: 175px; background: white; margin: 0 auto; display: block; z-index: 2; position: relative; border-radius: 5px; }

        /* Liikkuva vaaleansininen animaatio taustalla */
        .moving-bg {
            position: absolute; bottom: 0; left: 0; width: 200%; height: 60px;
            background: linear-gradient(90deg, transparent 0%, rgba(0,122,201,0.05) 50%, transparent 100%);
            animation: slide 4s linear infinite;
        }
        @keyframes slide { from { transform: translateX(-50%); } to { transform: translateX(0%); } }

        .ticket-info { font-size: 14px; color: #555; line-height: 1.6; padding-bottom: 20px; }

        /* K√§ytt√∂ehdot - "emme vastaa" */
        .tos-text { font-size: 9px; color: #aaa; padding: 20px; background: #fafafa; border-top: 1px solid #eee; text-align: left; }
        .tos-text b { color: #888; }

        /* --- PALJASTUSRUUTU (Trolli) --- */
        #bust-alert {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #ff0000; color: white; display: none;
            flex-direction: column; align-items: center; justify-content: center;
            z-index: 99999; text-align: center;
        }
        .bust-header { font-size: 60px; margin: 0; font-family: "Arial Black", sans-serif; }
    </style>
</head>
<body>

<div class="header">Kertalippu</div>

<div class="ticket-body">
    <div class="zone-wrap">AB</div>
    <div class="valid-label">‚óè VOIMASSA</div>
    <div class="countdown" id="time-left">01:19:59</div>
    
    <div class="qr-card">
        <div class="moving-bg"></div>
        <img class="qr-image" src="https://api.qrserver.com/v1/create-qr-code/?size=175x175&data=HSL-FAKE-BUSTED" alt="qr">
    </div>

    <div class="ticket-info">
        Aikuinen, Kertalippu<br>
        <span id="date-time" style="font-weight: bold;"></span><br>
        Lipun numero: 88294-Z11
    </div>

    <div class="tos-text">
        <b>K√ÑYTT√ñEHDOT:</b> T√§m√§ on digitaalinen simulaatio. Emme vastaa mist√§√§n mahdollisista vahingoista, tarkastusmaksuista, oikeudenk√§yntikuluista tai muista seurauksista, jotka aiheutuvat t√§m√§n sivun k√§yt√∂st√§. Kaikki vastuu on matkustajalla. <b>Emme vastaa mist√§√§n saatanan mist√§√§n.</b>
    </div>
</div>

<div id="bust-alert">
    <p style="font-size: 80px; margin: 0;">üëÆ‚Äç‚ôÇÔ∏è</p>
    <h1 class="bust-header">FEIKKI!</h1>
    <p style="background: #000; padding: 10px 20px; font-weight: bold; font-size: 22px;">V√Ñ√ÑRENNETTY LIPPU</p>
    <p style="padding: 20px; font-weight: bold;">HUOMIO KULJETTAJA: T√ÑM√Ñ LIPPU EI OLE VOIMASSA. PYYD√Ñ MATKUSTAJAA POISTUMAAN.</p>
</div>

<script>
    // Asetetaan nykyinen pvm ja klo
    const updateDateTime = () => {
        const d = new Date();
        const dateStr = d.getDate() + "." + (d.getMonth() + 1) + "." + d.getFullYear();
        const timeStr = d.getHours() + ":" + (d.getMinutes() < 10 ? '0' : '') + d.getMinutes();
        document.getElementById('date-time').innerText = dateStr + " " + timeStr;
    }
    updateDateTime();

    // Tikitt√§v√§ kello
    let totalSecs = 80 * 60;
    setInterval(() => {
        totalSecs--;
        let m = Math.floor(totalSecs / 60);
        let s = totalSecs % 60;
        document.getElementById('time-left').innerText = (m < 10 ? '0' : '') + m + ":" + (s < 10 ? '0' : '') + s;
    }, 1000);

    // PALJASTUS-VILKKU (2 sekunnin v√§lein)
    const alertBox = document.getElementById('bust-alert');
    setInterval(() => {
        alertBox.style.display = 'flex';
        if (navigator.vibrate) navigator.vibrate([400, 100, 400]); // T√§rin√§
        
        setTimeout(() => {
            alertBox.style.display = 'none';
        }, 800); // Kuinka kauan se h√§lytys n√§kyy
    }, 2000); // 2 sekunnin v√§lein
</script>

</body>
</html>
