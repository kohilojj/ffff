<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jassu & Jepu: AI Suhdeterapeutti</title>
    <style>
        :root { --serene-blue: #005a9e; --soft-gray: #f4f7f6; --tinder-pink: #fe3c72; }
        body { margin: 0; background: var(--soft-gray); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; display: flex; flex-direction: column; height: 100vh; }
        
        /* Header */
        #header { background: white; padding: 20px; text-align: center; border-bottom: 2px solid #ddd; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        #header h1 { margin: 0; font-size: 18px; color: var(--serene-blue); text-transform: uppercase; letter-spacing: 1px; }

        /* Chat-ikkuna */
        #chat-display { flex-grow: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 15px; }
        .msg { padding: 15px 20px; border-radius: 15px; max-width: 85%; line-height: 1.5; font-size: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .user-msg { align-self: flex-end; background: var(--serene-blue); color: white; border-bottom-right-radius: 2px; }
        .ai-msg { align-self: flex-start; background: white; color: #333; border-bottom-left-radius: 2px; border: 1px solid #eee; }

        /* Syöttökenttä */
        #input-container { background: white; padding: 20px; border-top: 1px solid #ddd; display: flex; gap: 10px; }
        #user-input { flex-grow: 1; padding: 12px 20px; border: 1px solid #ccc; border-radius: 30px; outline: none; font-size: 16px; }
        #send-btn { background: var(--serene-blue); color: white; border: none; padding: 12px 25px; border-radius: 30px; font-weight: bold; cursor: pointer; transition: 0.3s; }
        #send-btn:hover { background: #004a87; }

        /* Valmennus-panelit */
        .status-badge { font-size: 12px; font-weight: bold; padding: 4px 10px; border-radius: 10px; margin-bottom: 5px; display: inline-block; }
        .badge-warning { background: #fff3cd; color: #856404; }
        .badge-success { background: #d4edda; color: #155724; }
    </style>
</head>
<body>

<div id="header">
    <h1>AI-Suhdeterapeutti <span style="font-size: 12px; color: gray;">Powered by Jassu & Jepu</span></h1>
    <div style="font-size: 12px; color: #666; margin-top: 5px;">Harjoittele Tinder-keskusteluja tai kysy neuvoa.</div>
</div>

<div id="chat-display">
    <div class="msg ai-msg">
        <b>Suhdeterapeutti:</b> Tervetuloa. Olen täällä auttamassa sinua kehittymään ihmissuhteissa ja Tinder-viestinnässä. <br><br>
        Voit kertoa minulle, mitä aiot sanoa matchillesi, tai pyytää neuvoa tiettyyn tilanteeseen. Jassu ja Jepu seuraavat analyysiani.
    </div>
</div>

<div id="input-container">
    <input type="text" id="user-input" placeholder="Kirjoita viestisi tässä..." autocomplete="off">
    <button id="send-btn" onclick="sendMessage()">ANALYYSI</button>
</div>

<script>
    const chatDisplay = document.getElementById('chat-display');
    const userInput = document.getElementById('user-input');

    function sendMessage() {
        const text = userInput.value.trim();
        if (!text) return;

        addMessage(text, 'user-msg');
        userInput.value = '';

        // Simuloidaan "älykästä" analyysia
        setTimeout(() => {
            const analysis = analyzeMessage(text);
            addMessage(analysis, 'ai-msg');
        }, 800);
    }

    function addMessage(text, className) {
        const div = document.createElement('div');
        div.className = `msg ${className}`;
        div.innerHTML = text;
        chatDisplay.appendChild(div);
        chatDisplay.scrollTop = chatDisplay.scrollHeight;
    }

    function analyzeMessage(msg) {
        const input = msg.toLowerCase();
        
        // 1. TÖRKEÄT JA AHISTELEVAT (Suhdeterapeutin vakava palaute)
        if (input.includes("tisit") || input.includes("yöksi") || input.includes("alasti") || input.includes("pillu")) {
            return `
                <span class="status-badge badge-warning">VAROITUS: Epäkunnioittava sävy</span><br>
                <b>Terapeutin analyysi:</b> Tämä viesti on erittäin ongelmallinen. Lähestyt vastapuolta pelkkänä objektina. <br><br>
                <b>Jepun vinkki:</b> Jätä tällaiset jutut kokonaan pois. Jos haluat oikean suhteen, sinun on osoitettava, että arvostat ihmisen luonnetta ja rajoja.
            `;
        }

        // 2. TYLSÄT JA PASSIVISET
        if (input.length < 5 || input === "moi" || input === "mitä kuuluu") {
            return `
                <span class="status-badge">HUOMIO: Matala kiinnostavuus</span><br>
                <b>Terapeutin analyysi:</b> Viestisi on turvallinen, mutta hyvin yleinen. Se ei erotu sadoista muista viesteistä.<br><br>
                <b>Jassun vinkki:</b> Yritä löytää hänen profiilistaan jokin yksityiskohta (esim. lemmikki tai matkakohde) ja kysy siitä jotain tarkempaa.
            `;
        }

        // 3. HYVÄT JA RAKENTAVAT
        if (input.includes("itse") || input.includes("harrastat") || input.includes("kiva") || input.includes("profiili")) {
            return `
                <span class="status-badge badge-success">ERINOMAINEN: Rakentava avaus</span><br>
                <b>Terapeutin analyysi:</b> Olet osoittanut aitoa mielenkiintoa ja avannut keskustelun herrasmiesmäisesti. Tämä luo turvallisen tilan keskustelulle.<br><br>
                <b>Jassun vinkki:</b> Loistavaa! Nyt olet oikealla polulla kohti onnistuneita treffejä. Jatka kuuntelemista ja ole oma itsesi.
            `;
        }

        // 4. GENEERINEN AI-VASTAUS
        return `
            <b>Terapeutin analyysi:</b> Viestisi on neutraali. Se ei loukkaa, mutta se voisi olla hieman persoonallisempi. <br><br>
            Haluatko, että autan muotoilemaan tästä jotain, mikä saisi hänet hymyilemään?
        `;
    }

    userInput.addEventListener("keypress", (e) => {
        if (e.key === "Enter") sendMessage();
    });
</script>

</body>
</html>
