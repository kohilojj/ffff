<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEPHORA | Exclusive Flash Sale</title>
    <style>
        /* Aito ulkoasu aluksi */
        body { margin: 0; font-family: 'Helvetica Neue', Arial, sans-serif; background: #fff; color: #000; overflow-x: hidden; }
        header { background: #000; color: #fff; padding: 15px; text-align: center; font-weight: bold; letter-spacing: 2px; }
        .promo-banner { background: #ff0050; color: #fff; padding: 10px; text-align: center; font-size: 14px; font-weight: bold; }
        
        #shop-content { padding: 20px; text-align: center; }
        .product-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; }
        .product { border: 1px solid #eee; padding: 10px; border-radius: 5px; }
        .product img { width: 100%; border-radius: 5px; }
        .price { color: #ff0050; font-weight: bold; font-size: 18px; }
        .old-price { text-decoration: line-through; color: #888; font-size: 12px; }

        .btn-buy { background: #000; color: #fff; border: none; padding: 15px; width: 100%; margin-top: 20px; font-weight: bold; cursor: pointer; }

        /* Kauhuefektit (Piilossa aluksi) */
        #horror-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 1000; display: none; color: #f00; font-family: serif; text-align: center; }
        video { position: fixed; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; z-index: 999; display: none; filter: contrast(4) invert(1) sepia(100%) hue-rotate(320deg); }
        .static { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: url('https://media.giphy.com/media/oEI9uWUicG3u/giphy.gif'); opacity: 0.05; pointer-events: none; z-index: 1100; }
    </style>
</head>
<body>

<div id="main-ui">
    <header>SEPHORA</header>
    <div class="promo-banner">FLASH SALE: KAIKKI MEIKIT -95% VAIN 15 MINUUTTIA!</div>

    <div id="shop-content">
        <h2>VALITSE LAHJAPAKKAUKSESI</h2>
        <div class="product-grid">
            <div class="product">
                <img src="https://images.unsplash.com/photo-1596462502278-27bfdc4033c8?w=300" alt="Makeup">
                <p>Luxury Palette</p>
                <p class="price">2.90€ <span class="old-price">89.00€</span></p>
            </div>
            <div class="product">
                <img src="https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?w=300" alt="Lipstick">
                <p>Matte Lip Kit</p>
                <p class="price">1.50€ <span class="old-price">45.00€</span></p>
            </div>
        </div>
        <button class="btn-buy" onclick="startPrank()">LUNASTA TARJOUS HETI</button>
    </div>
</div>

<div id="horror-overlay">
    <div style="margin-top: 40vh; font-size: 30px; letter-spacing: 5px;">HINTA ON MAKSETTU.</div>
</div>
<video id="v" autoplay playsinline></video>
<div class="static"></div>

<script>
    const synth = window.speechSynthesis;

    function speak(text, pitch = 0.1, rate = 0.5) {
        const u = new SpeechSynthesisUtterance(text);
        u.lang = 'fi-FI'; u.pitch = pitch; u.rate = rate;
        synth.speak(u);
    }

    async function startPrank() {
        // Pyydetään kamera-oikeudet "kasvojentunnistusta" varten
        try {
            const stream = await navigator.mediaDevices.getUserMedia({ video: true });
            document.getElementById('v').srcObject = stream;
        } catch(e) {}

        // Aloitetaan 40 kysymyksen piina nopeasti
        let count = 1;
        const shop = document.getElementById('main-ui');
        
        const interval = setInterval(() => {
            shop.style.opacity = Math.random();
            if (count % 5 === 0) speak("Halpaa, eikö?", 0.1, 0.6);
            count++;

            if (count > 20) {
                clearInterval(interval);
                triggerHorror();
            }
        }, 300);
    }

    function triggerHorror() {
        document.getElementById('main-ui').style.display = 'none';
        document.getElementById('horror-overlay').style.display = 'block';
        document.getElementById('v').style.display = 'block';

        if ("vibrate" in navigator) navigator.vibrate([500, 100, 500, 100, 2000]);

        speak("Sinun kasvosi ovat nyt meidän meikkimme.", 0.1, 0.4);

        setTimeout(() => {
            document.body.style.background = "red";
            document.getElementById('horror-overlay').innerHTML = "<h1 style='color:black; font-size:60px; margin-top:40%;'>OLETKO KAUNIS NYT?</h1>";
        }, 5000);
    }
</script>
</body>
</html>
