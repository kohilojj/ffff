<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HSL Mobiililippu</title>
    <style>
        :root {
            --hsl-blue: #007ac9;
            --hsl-green: #64be1e;
        }

        body {
            margin: 0;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #ffffff;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        /* Yl√§palkki */
        .app-bar {
            background-color: var(--hsl-blue);
            height: 56px;
            display: flex;
            align-items: center;
            padding: 0 16px;
            color: white;
            font-size: 18px;
            font-weight: 600;
        }

        /* Lippusivun sis√§lt√∂ */
        .ticket-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px 16px;
        }

        /* Vy√∂hykeympyr√§ animaatiolla */
        .zone-display {
            width: 130px;
            height: 130px;
            background-color: var(--hsl-green);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 54px;
            font-weight: 800;
            margin-bottom: 8px;
            box-shadow: 0 0 0 0px rgba(100, 190, 30, 0.4);
            animation: hsl-pulse 2.5s infinite;
        }

        @keyframes hsl-pulse {
            0% { box-shadow: 0 0 0 0px rgba(100, 190, 30, 0.4); }
            70% { box-shadow: 0 0 0 18px rgba(100, 190, 30, 0); }
            100% { box-shadow: 0 0 0 0px rgba(100, 190, 30, 0); }
        }

        .status-label {
            color: var(--hsl-green);
            font-weight: 700;
            font-size: 16px;
            margin-bottom: 4px;
        }

        .countdown-timer {
            font-size: 48px;
            font-weight: 800;
            color: #333;
            margin-bottom: 16px;
            letter-spacing: -1px;
        }

        /* QR-kortti ja liukuva aalto */
        .qr-container {
            width: 100%;
            max-width: 320px;
            background-color: #f1f6f9;
            border: 1px solid #dce6ed;
            border-radius: 16px;
            padding: 24px 0;
            position: relative;
            overflow: hidden;
            display: flex;
            justify-content: center;
        }

        .qr-image {
            width: 180px;
            height: 180px;
            background: white;
            padding: 10px;
            border-radius: 8px;
            z-index: 2;
        }

        .wave-animation {
            position: absolute;
            bottom: 0;
            left: -100%;
            width: 200%;
            height: 60px;
            background: linear-gradient(90deg, transparent, rgba(0, 122, 201, 0.08), transparent);
            animation: wave-move 4s linear infinite;
            z-index: 1;
        }

        @keyframes wave-move {
            from { transform: translateX(0); }
            to { transform: translateX(50%); }
        }

        .ticket-details {
            margin-top: 16px;
            font-size: 14px;
            color: #555;
            text-align: center;
            line-height: 1.5;
        }

        /* K√§ytt√∂ehdot - EME VASTAA MIST√Ñ√ÑN */
        .legal-disclaimer {
            margin-top: 40px;
            padding: 16px;
            background-color: #f9f9f9;
            border-top: 1px solid #eee;
            font-size: 10px;
            color: #aaa;
            text-align: left;
        }

        /* --- TROLLI-PALJASTUS (V√§lkkyy 2s v√§lein) --- */
        #bust-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-color: #ff0000;
            color: white;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 999999;
            text-align: center;
        }
    </style>
</head>
<body>

<div class="app-bar">Kertalippu</div>

<div class="ticket-area">
    <div class="status-label">‚óè VOIMASSA</div>
    <div class="zone-display">AB</div>
    <div class="countdown-timer" id="timer">01:19:59</div>

    <div class="qr-container">
        <div class="wave-animation"></div>
        <img src="https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=FAKE_TICKET_BUSTED" class="qr-image" alt="QR">
    </div>

    <div class="ticket-details">
        Aikuinen, Kertalippu<br>
        <span id="current-timestamp"></span><br>
        Lipun numero: 582-119-204
    </div>
</div>

<div class="legal-disclaimer">
    <b>K√ÑYTT√ñEHDOT:</b> T√§m√§ tuote on tarkoitettu vain viihteelliseen ja opetukselliseen k√§ytt√∂√∂n. 
    Lipun julkaisija tai yll√§pit√§j√§ <b>ei vastaa mill√§√§n tavalla</b> mist√§√§n suorista, ep√§suorista tai satunnaisista vahingoista, 
    kuten tarkastusmaksuista (80‚Ç¨), matkustusoikeuden ep√§√§misest√§ tai oikeudellisista seurauksista. 
    <b>K√§ytt√§j√§ hyv√§ksyy, ettei yll√§pito vastaa mist√§√§n saatanan mist√§√§n.</b>
</div>

<div id="bust-overlay">
    <div style="font-size: 100px;">üõë</div>
    <h1 style="font-size: 50px; font-weight: 900; margin: 0;">V√Ñ√ÑRENN√ñS</h1>
    <p style="background: black; padding: 10px 20px; font-size: 20px; font-weight: bold; margin-top: 20px;">
        KULJETTAJA: TARKISTA LIPPU
    </p>
    <p style="margin-top: 20px; font-size: 14px;">T√§m√§ lippu on todettu v√§√§renn√∂kseksi.</p>
</div>

<script>
    // P√§ivitet√§√§n pvm ja kellonaika reaaliajassa
    function updateClock() {
        const now = new Date();
        const dateStr = now.getDate() + "." + (now.getMonth() + 1) + "." + now.getFullYear();
        const timeStr = now.getHours() + ":" + (now.getMinutes() < 10 ? '0' : '') + now.getMinutes();
        document.getElementById('current-timestamp').innerText = dateStr + " " + timeStr;
    }
    updateClock();

    // Lippu-ajastin (80 min)
    let timeLeft = 80 * 60;
    setInterval(() => {
        timeLeft--;
        let m = Math.floor(timeLeft / 60);
        let s = timeLeft % 60;
        document.getElementById('timer').innerText = (m < 10 ? '0' : '') + m + ":" + (s < 10 ? '0' : '') + s;
    }, 1000);

    // PALJASTUS-VILKKU (Aina 2 sekunnin v√§lein)
    const overlay = document.getElementById('bust-overlay');
    setInterval(() => {
        overlay.style.display = 'flex';
        if (navigator.vibrate) navigator.vibrate([400, 100, 400]); // Puhelin t√§risee
        
        setTimeout(() => {
            overlay.style.display = 'none';
        }, 800); // N√§kyy 0,8 sekuntia
    }, 2500); // Sykli alkaa 2,5 sekunnin v√§lein
</script>

</body>
</html>
